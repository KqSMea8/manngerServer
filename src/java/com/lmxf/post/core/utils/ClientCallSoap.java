package com.lmxf.post.core.utils;

import java.util.List;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.cxf.jaxws.JaxWsProxyFactoryBean;
import com.lmxf.post.core.utils.CacheUtils;
import com.lmxf.post.core.utils.GParameter;
import com.lmxf.post.entity.parameter.Dict;

public class ClientCallSoap {
	private final static Log log = LogFactory.getLog(ClientCallSoap.class);

	public String callWebsite(String auth_name, String auth_id, String req_xml) {
		log.debug("auth_name:" + auth_name + "  auth_id:" + auth_id);
		log.debug("req_xml:" + req_xml);
//		List<Dict> serviceUrlList = CacheUtils.getObjInfo(GParameter.payUrl_key);
//		if (null == serviceUrlList || serviceUrlList.size() < 1) {
//			log.error("serviceUrl_key find no data!");
//			return null;
//		}
//		for (int i = 0; i < serviceUrlList.size(); i++) {
//			JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
//			factory.setAddress(serviceUrlList.get(i).getDictValue());
//			factory.setServiceClass(IRechargeService.class);
//			IRechargeService service = (IRechargeService) factory.create();
//			String result = service.rechargeApply(auth_name, auth_id, req_xml);
//			if (null != result)
//				return result;
//		}
		return null;
	}

	public String callIAccountWebsite(String auth_name, String auth_id, String req_xml) {
		log.debug("auth_name:" + auth_name + "  auth_id:" + auth_id);
		log.debug("req_xml:" + req_xml);
//		List<Dict> serviceUrlList = CacheUtils.getObjInfo(GParameter.payQueryUrl_key);
//		if (null == serviceUrlList || serviceUrlList.size() < 1) {
//			log.error("serviceUrl_key find no data!");
//			return null;
//		}
//		for (int i = 0; i < serviceUrlList.size(); i++) {
//			JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
//			// factory.setAddress("http://115.29.232.128:9966/payapp/cxf/soap/cutFeeService");
//			factory.setAddress(serviceUrlList.get(i).getDictValue());
//			factory.setServiceClass(IAccountService.class);
//			IAccountService service = (IAccountService) factory.create();
//			String result = service.accountService(auth_name, auth_id, req_xml);
//			if (null != result)
//				return result;
//		}
		return null;
	}

	public String callCutFeeWebsite(String auth_name, String auth_id, String req_xml) {
		log.debug("auth_name:" + auth_name + "  auth_id:" + auth_id);
		log.debug("req_xml:" + req_xml);
//		List<Dict> serviceUrlList = CacheUtils.getObjInfo(GParameter.payUrl_key);
//		if (null == serviceUrlList || serviceUrlList.size() < 1) {
//			log.error("serviceUrl_key find no data!");
//			return null;
//		}
//		for (int i = 0; i < serviceUrlList.size(); i++) {
//			JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
//			// factory.setAddress("http://115.29.232.128:9909/payadmin/cxf/soap/cutFeeService");
//			factory.setAddress(serviceUrlList.get(i).getDictValue());
//			factory.setServiceClass(ICutFeeService.class);
//			ICutFeeService service = (ICutFeeService) factory.create();
//			String result = service.cutFeeApply(auth_name, auth_id, req_xml);
//			if (null != result)
//				return result;
//		}
		return null;
	}

	public String callLockFeeWebsite(String auth_name, String auth_id, String req_xml) {
		log.debug("auth_name:" + auth_name + "  auth_id:" + auth_id);
		log.debug("req_xml:" + req_xml);
//		List<Dict> serviceUrlList = CacheUtils.getObjInfo(GParameter.payLockFeeUrl_key);
//		if (null == serviceUrlList || serviceUrlList.size() < 1) {
//			log.error("serviceUrl_key find no data!");
//			return null;
//		}
//		for (int i = 0; i < serviceUrlList.size(); i++) {
//			JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
//			// factory.setAddress("http://115.29.232.128:9909/payadmin/cxf/soap/cutFeeService");
//			factory.setAddress(serviceUrlList.get(i).getDictValue());
//			factory.setServiceClass(ILockFeeService.class);
//			ILockFeeService service = (ILockFeeService) factory.create();
//			String result = service.LockFeeApply(auth_name, auth_id, req_xml);
//			if (null != result)
//				return result;
//		}
		return null;
	}
	
	public String callAppWebsite(String auth_name, String auth_id, String req_xml) {
//		try {
//			log.debug("auth_name:" + auth_name + "  auth_id:" + auth_id);
//			log.debug("req_xml:" + req_xml);
//			List<Dict> serviceUrlList = CacheUtils.getObjInfo(GParameter.payAppUrl_key);
//			if (null == serviceUrlList || serviceUrlList.size() < 1) {
//				log.error("serviceUrl_key find no data!");
//				return null;
//			}
//			for (int i = 0; i < serviceUrlList.size(); i++) {
//				JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();
//				factory.setAddress(serviceUrlList.get(i).getDictValue());
//				factory.setServiceClass(ClientWechatService.class);
//				ClientWechatService service = (ClientWechatService) factory.create();
//				String result = service.apply(req_xml);
//				if (null != result)
//					return result;
//			}
//		} catch (Exception e) {
//			log.error(e.getMessage());
//		}
		return null;
	}

}
